import LT from "../components/layouts";
import SearchBar from "../components/searchBar";
import CategoriesWidget from "../components/categoriesWidget";
import CardsWidget from "../components/cardsWidget";
import AboutZadelis from "../components/aboutZadelis";
import LoadMore from "../components/loadMore";
import Footer from "../components/footer";
import GetSocial from "../components/getSocial";

import { getData } from "../db";

export default function Home(props) {
  return (
    <LT.Layout>
      <LT.Main>
        <LT.H1
          data-testid="H1"
          name="Zadelis"
          slogan="–ù–∞ –ø—Ä–æ–∫–∞—Ç –±–µ—Ä–∏ - –¥–µ–Ω—å–≥–∏ –±–µ—Ä–µ–≥–∏."
        />
        <CategoriesWidget
          data-testid="cat-widget"
          categories={[
            "clothes",
            "tools",
            "electronics",
            "transport",
            "hobby",
            "business",
          ]}
        />
        <LT.Description>
          <article>
            <LT.H3>–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —à–∞—Ä–∏–Ω–≥-—Å–µ—Ä–≤–∏—Å. üëçüèª</LT.H3>
            <div>
              –¢—É—Ç –≤—ã –º–æ–∂–µ—Ç–µ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∏–ª–∏ —Å–¥–∞—Ç—å –≤ –∞—Ä–µ–Ω–¥—É —á—Ç–æ-—Ç–æ —Ö–æ—Ä–æ—à–µ–µ.
              –ê—Ä–µ–Ω–¥—É–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏ üß≠. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π üíµ. –ò—Å–ø–æ–ª—å–∑—É–π —Å–µ–π—á–∞—Å, –Ω–µ –∫–æ–ø–∏
              –Ω–∞ –ø–æ–∫—É–ø–∫—É ‚è≥. –°–¥–∞–π –≤–µ—â—å –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–∞–ª—è–ª–∞—Å—å - —ç—Ç–æ —Ç–≤–æ–π –ø–∞—Å—Å–∏–≤–Ω—ã–π
              –¥–æ—Ö–æ–¥ ü™ô. –ù–∞—à —Å–µ—Ä–≤–∏—Å –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –≤–µ—â—å –∏–ª–∏ —Å–¥–∞—Ç—å —Ç–≤–æ—é üõç.
            </div>

            <div>
              –£ –Ω–∞—Å –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Å–µ –æ—Ç –∫–∞—Ä–Ω–∞–≤–∞–ª—å–Ω—ã—Ö –∫–æ—Å—Ç—é–º–æ–≤ üéÉ –¥–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
              –∏ –≥–æ—Ç–æ–≤–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ üóÉ. –®–µ—Ä–∏–Ω–≥ - (–æ—Ç –∞–Ω–≥–ª. ‚Äúshare‚Äù - –¥–µ–ª–∏—Ç—å—Å—è) - —ç—Ç–æ
              —Å—Ç–∞—Ä—ã–π –¥–æ–±—Ä—ã–π –ø—Ä–æ–∫–∞—Ç –≤–µ—â–µ–π —Å–æ —Å–≤–µ–∂–∏–º –ø–æ–¥—Ö–æ–¥–æ–º üôåüèª. –í—ã —Å–∞–º–∏
              —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ —É—Å–ª–æ–≤–∏—è üßëüèº‚Äç‚öñÔ∏è –∞—Ä–µ–Ω–¥—ã, –∞ –µ—Å–ª–∏ –≤—ã –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä - —Ç–æ –≤—ã
              –≤–∏–¥–∏—Ç–µ —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è –∑–∞—Ä–∞–Ω–µ–µ üôà. –ù–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞
              —á–µ—Å—Ç–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–µ–¥–≤–∑—è—Ç—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ ‚≠êÔ∏è –æ—Ç –∫–æ–º–º—å—é–Ω–∏—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π üë©üèº‚Äçüíª.
            </div>

            <div>
              –ú—ã –±—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã –µ—Å–ª–∏ –≤—ã –¥–∞–¥–∏—Ç–µ –æ—Ç–∑—ã–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞ –ø—Ä–æ
              –∫–∞–∫–∏–µ-—Ç–æ –Ω–µ–¥–æ—á–µ—Ç—ã –∏–ª–∏ –ø–æ—Ö–≤–∞–ª–∏—Ç–µ –Ω–∞—Å. –•–æ—Ç—å –Ω–µ–º–Ω–æ–≥–æ üòÉ
              <br />
            </div>
            <span>
              C —É–≤–∞–∂–µ–Ω–∏–µ–º,
              <br />
              –ö–æ–º–∞–Ω–¥–∞ Zadelis
            </span>
          </article>
        </LT.Description>
        <SearchBar data-testid="searchbar" />
        <LT.H3 centered>–°–ª—É—á–∞–π–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</LT.H3>
        <CardsWidget {...props} data-testid="cardsWidget" />
        <LoadMore data-testid="loadMore" />
        <div>
          –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–∫–∞—Ç–∏—Ç—Å—è –Ω–∞ –±–∞–π–¥–∞—Ä–∫–µ —Å –¥—Ä—É–∑—å—è–º–∏ –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö? üõ∂ –Ω—É–∂–µ–Ω –∫–æ—Å—Ç—é–º
          –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫ üëò ? –î–µ–ª–∞–µ—Ç–µ –º–µ–ª–∫–∏–π —Ä–µ–º–æ–Ω—Ç –∏ –≤–∞–º –Ω—É–∂–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ –ø–∞—Ä—É
          –¥–Ω–µ–π?üõ† –ù–µ –ø–æ–∫—É–ø–∞–π—Ç–µ –≤–µ—â—å –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ—á–∞—Å—Ç–æ üóë,
          –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –®–µ—Ä–∏–Ω–≥ ‚ùóÔ∏è. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ç–∞–∫–∞—è –≤–µ—â—å , –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ
          –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è - —Ç–æ —Å–¥–∞–≤–∞–π—Ç–µ –µ–µ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ üí∞. –í –Ω–∞—à–µ–º –±–ª–æ–≥–µ –º—ã
          —Ä–∞—Å—Å–∫–∞–∂–µ–º –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ ‚ö†Ô∏è –∏ —Ö–æ—Ä–æ—à–æ. –°–µ—Ä–≤–∏—Å Zadelis -
          –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã üÜì . –≠—Ç–æ—Ç
          —Å–µ—Ä–≤–∏—Å —Å–¥–µ–ª–∞–Ω –ª—é–¥—å–º–∏ –¥–ª—è –ª—é–¥–µ–π üë®‚Äçüëß‚Äçüë¶. –í—Å–µ –ø—Ä–æ—Å—Ç–æ.
        </div>
        <div>
          –í—ã —ç–∫–æ–Ω–æ–º–∏—Ç–µ —Å–≤–æ–∏ –¥–µ–Ω—å–≥–∏ –ø—Ä–æ—Å—Ç–æ –≤–∑—è–≤ –Ω—É–∂–Ω—É—é –≤–µ—â—å –Ω–∞–ø—Ä–æ–∫–∞—Ç ü§åüèº.
          –î–æ–≤–æ–ª—å–Ω—ã –≤—ã - –¥–æ–≤–æ–ª—å–Ω—ã –≤–ª–∞–¥–µ–ª—å—Ü—ã. –í–æ–∑–º–æ–∂–Ω–æ –ª—é–¥–∏ —Ç—É—Ç –±—É–¥—É—Ç –¥–µ–ª–∏—Ç—å—Å—è
          —Å–≤–æ–∏–º–∏ –≤–µ—â–∞–º–∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏–ª–∏ –∑–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Ü–µ–Ω—É ü§®. –ù–µ
          –ª–µ–Ω–∏—Ç–µ—Å—å –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å–≤–æ–∏ –≤–µ—â–∏ –Ω–∞ –®–µ—Ä–∏–Ω–≥ —Ç—É—Ç - –Ω–µ –Ω—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω üìµ ,
          —Ç–æ–ª—å–∫–æ email üìß. –õ—é–¥–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –≤–∞—à—É –≤–µ—â—å –±—É–¥—É—Ç
          –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –Ω–µ–π –∫–∞–∫ –∫ —Å–≤–æ–µ–π –∏ –±–µ—Ä–µ—á—å –µ–µ ü§ûüèª. –ú—ã –Ω–∞–¥–µ–µ–º—Å—è –Ω–∞ —ç—Ç–æ –∏
          –æ–ø–∏—Å–∞–ª–∏ –≤—Å–µ —Ä–∏—Å–∫–∏ –∏ –∫–∞–∫ –∏—Ö –º–æ–∂–Ω–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –°–∞–π—Ç –≤—Å–µ –µ—â–µ –≤
          –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ üòÖ.
        </div>{" "}
      </LT.Main>

      <AboutZadelis data-testid="aboutZadelis" />

      <GetSocial data-testid="getSocial" />

      <LT.Centered>
        <LT.Description>
          <span>
            –ï—Å–ª–∏ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ —ç—Ç–æ –Ω–µ –∑—Ä—è üòÜ. –ù–∞–º –±—ã –æ—á–µ–Ω—å
            —Ö–æ—Ç–µ–ª–æ—Å—å —á—Ç–æ–±—ã –≤—ã —Ä–∞—Å—Å–∫–∞–∑—ã–∞–ª–∏ –ø—Ä–æ –Ω–∞—Å —Å–≤–æ–∏–º –¥—Ä—É–∑—å—è–º –∏ –±–ª–∏–∑—Å–∫–∏–º üìª.
            <span className="text-truncated">
              –í–æ–∑–º–æ–∂–Ω–æ —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –∏—â—É—Ç –º–Ω–æ–≥–∏–µ ü§ûüèª. –ú—ã –±—É–¥–µ–º
              —Å—Ç–∞—Ä–∞—Ç—å—Å—è —á—Ç–æ–±—ã –æ–Ω –Ω–µ –ø—Ä–∏–Ω–æ—Å–∏–ª —Ö–ª–∞–ø–æ—Ç –∞ –≤—ã –ø–æ–ª—É—á–∞–ª–∏ –æ–∂–∏–¥–∞–µ–º–æ–µ! üêØ
            </span>
          </span>
        </LT.Description>
      </LT.Centered>
      <Footer />
    </LT.Layout>
  );
}

export async function getStaticProps() {
  try {
    const prokats = await getData("prokats", {}, false, 10);
    // a good candidate for helper function
    prokats.forEach((p) => (p._id = p._id.toString()));

    return {
      props: { prokats },
    };
  } catch (error) {
    return {
      props: { error: true },
    };
  }
}
